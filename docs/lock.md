# 锁
[JDK 1.6之后对锁的优化](https://gitee.com/SnailClimb/JavaGuide/blob/master/docs/java/Multithread/synchronized.md)  
JDK1.6 对锁的实现引入了大量的优化，如偏向锁、轻量级锁、自旋锁、适应性自旋锁、锁消除、锁粗化等技术来减少锁操作的开销。

锁主要存在四中状态，依次是：无锁状态、偏向锁状态、轻量级锁状态、重量级锁状态，他们会随着竞争的激烈而逐渐升级。注意锁可以升级不可降级，这种策略是为了提高获得锁和释放锁的效率。
## 按状态分类
1. 无锁状态
2. 偏向锁状态：与轻量级锁一样，为了避免在无多线程竞争的情况下，重量级锁使用操作系统的互斥量引起的性能消耗。
偏向获取锁的第一个线程，在无多线程竞争的情况下偏向锁会将整个同步都消掉。
3. 轻量级锁状态：避免使用互斥量，来减少性能损耗。在无多线程锁竞争的情况下，使用CAS(compared and swap)
4. 重量级锁状态：
## 悲观锁与乐观锁

